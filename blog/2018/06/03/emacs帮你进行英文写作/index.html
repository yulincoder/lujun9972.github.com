<!DOCTYPE html>
<html lang="en">
<head>
  <title>Emacs帮你进行英文写作 - 暗无天日</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <meta name="author" content="lujun9972" />
  <meta name="keywords" content="Emacs之怒" />
  <style>
   #ds-thread #ds-reset .ds-comment-body p {color: #ffffff;}
   #ds-thread #ds-reset .ds-comment-body p a {color: #ff0;}
   #ds-thread #ds-reset .ds-comment-body p a:hover {color: #0ff;}
   #disqus_thread a {color: #00ffff;}
  </style>
  <link rel="stylesheet" href="https://lujun9972.github.io/media/css/main.css" type="text/css"/>
  <link rel="stylesheet" href="https://lujun9972.github.io/media/css/comment.css" type="text/css"/>
</head>

  <body><div class="container">
    <div>
      <header class="masthead">
        <h1 class="masthead-title"><a href="https://lujun9972.github.io/">暗无天日</a> <span class="subtitle">=============&gt;随便,谢谢</span></h1>
        <ul>
          <li><a href="https://lujun9972.github.io/years/">Years</a></li>
          <li><a href="https://lujun9972.github.io/authors/">Authors</a></li>
          <li><a href="https://lujun9972.github.io/tags/">Tags</a></li>
          <li><a href="https://lujun9972.github.io/about/">About</a></li>
          <li><a href="https://github.com/lujun9972/lujun9972.github.com">Github</a></li>
          <li><a href="https://lujun9972.github.io/rss.xml">RSS</a></li>
        </ul>
        <form method="get" id="searchform" action="http://www.google.com/search">
          <input type="text" class="field" name="q" id="s" placeholder="Search">
          <input type="hidden" name="as_sitesearch" value="lujun9972.github.io">
        </form>
      </header>
    </div>

<div>
<div class="post">
<h1 class="title">Emacs帮你进行英文写作</h1>
<div id="table-of-contents">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orga8b6ae3">ispell</a>
<ul>
<li><a href="#org22feb58">安装aspell</a></li>
<li><a href="#org49e051b">配置ispell插件</a></li>
<li><a href="#org98f36b2">使用Ispell进行拼写检查</a>
<ul>
<li><a href="#orgf8fc67c">ispell</a></li>
<li><a href="#orgab6de9f">递归编辑</a></li>
<li><a href="#org2dbb658">ispell-word</a></li>
<li><a href="#org5129c9e">ispell-minior-mode</a></li>
<li><a href="#orge262f86">ispell-complete-word</a></li>
<li><a href="#org83378fe">ispell-kill-ispell</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org01f8582">flyspell-mode</a>
<ul>
<li><a href="#org9bd05d9">flyspell-prog-mode</a></li>
</ul>
</li>
<li><a href="#org6e5f6dd">langtool</a>
<ul>
<li><a href="#orge5fc86a">下载langtool离线版</a></li>
<li><a href="#orgf4fc622">安装Emacs的langtool插件</a></li>
<li><a href="#orgd380464">配置Emacs langtool插件</a></li>
<li><a href="#org72130d2">使用langtool进行检查</a></li>
</ul>
</li>
<li><a href="#orgdf059eb">artbollocks-mode</a></li>
<li><a href="#orgc43882f">emacs-powerthesaurus</a></li>
</ul>
</div>
</div>

<div id="outline-container-orga8b6ae3" class="outline-2">
<h2 id="orga8b6ae3">ispell</h2>
<div class="outline-text-2" id="text-orga8b6ae3">
<p>
ispell是Unix下的一个拼写(不仅仅是英文)检查工具，同时它也是Emacs用来调用ispell类工具进行拼写检查的插件名称。
</p>

<p>
之所以说是ispell类工具是因为Emacs的ispell插件不仅仅支持调用ispell来进行拼写检查，也支持调用aspell/hunspell来进行拼写检查。
</p>

<p>
而且事实上，aspell已经逐渐取代ispell成为主流。
</p>
</div>

<div id="outline-container-org22feb58" class="outline-3">
<h3 id="org22feb58">安装aspell</h3>
<div class="outline-text-3" id="text-org22feb58">
<p>
既然Emacs是调用外部工具来做的拼写检查，那么第一步当然是要安装 <code>aspell</code> 了
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S aspell --noconfirm
</pre>
</div>

<div class="org-src-container">
<pre class="src src-org">resolving dependencies...
looking for conflicting packages...

Packages (1) aspell-0.60.6.1-5

Total Download Size:   0.57 MiB
Total Installed Size:  3.00 MiB

:: Proceed with installation? [Y/n] 
:: Retrieving packages...
 aspell-0.60.6.1-5-x...     0.0   B  0.00B/s 00:00 [----------------------]   0% aspell-0.60.6.1-5-x...   361.4 KiB   531K/s 00:00 [#############---------]  61% aspell-0.60.6.1-5-x...   587.9 KiB  1760K/s 00:00 [######################] 100%
(0/1) checking keys in keyring                     [----------------------]   0%(1/1) checking keys in keyring                     [######################] 100%
(0/1) checking package integrity                   [----------------------]   0%(1/1) checking package integrity                   [######################] 100%
(0/1) loading package files                        [----------------------]   0%(1/1) loading package files                        [######################] 100%
(0/1) checking for file conflicts                  [----------------------]   0%(1/1) checking for file conflicts                  [######################] 100%
(0/1) checking available disk space                [----------------------]   0%(1/1) checking available disk space                [######################] 100%
:: Processing package changes...
(1/1) installing aspell                            [----------------------]   0%(1/1) installing aspell                            [######################] 100%
Optional dependencies for aspell
    perl: to import old dictionaries [installed]
:: Running post-transaction hooks...
(1/2) Arming ConditionNeedsUpdate...
(2/2) Updating the info directory file...
</pre>
</div>

<p>
不过光安装 <code>aspell</code> 并没什么鸟用， <code>aspell</code> 是通过字典来检查拼写的，因此你还需要安装对应的字典.
</p>
<div class="org-src-container">
<pre class="src src-shell">pacman -Ss  aspell
</pre>
</div>

<div class="org-src-container">
<pre class="src src-org">extra/aspell 0.60.6.1-5 [&#24050;&#23433;&#35013;]
    A spell checker designed to eventually replace Ispell
extra/aspell-de 20161207-1
    German dictionary for aspell
extra/aspell-en 2017.08.24-1
    English dictionary for aspell
extra/aspell-es 1.11-6
    Spanish dictionary for aspell
extra/aspell-fr 0.50.3-7
    French dictionary for aspell
extra/aspell-nl 0.50.2-4
    Dutch dictionary for aspell
community/aspell-ca 2.3.0-2
    Catalan dictionary for aspell
community/aspell-cs 20040614-8
    Czech dictionary for aspell
community/aspell-el 0.08-2
    Greek dictionary for aspell
community/aspell-hu 0.99.4.2-5
    Hungarian spellcheck dictionary for aspell
community/aspell-it 2.2_20050523-6
    Italian dictionary for aspell
community/aspell-pl 20171220-1
    Polish dictionary for aspell
community/aspell-pt 20161001-1
    Portuguese and Brazilian Portuguese dictionary for aspell
community/aspell-ru 0.99f7-7
    Russian dictionary for aspell
community/aspell-sv 0.51-1
    Swedish dictionary for aspell
community/aspell-uk 1.8.0-1
    Ukrainian dictionary for aspell
</pre>
</div>

<p>
你可以看到aspell有很多个语言的字典，也就是支持多种语言的拼写检查，不过可惜的是不支持中文拼写检查(中文分词是个大问题)。
</p>

<p>
这里我们来安装英文的字典吧
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo pacman -S aspell-en --noconfirm
</pre>
</div>

<div class="org-src-container">
<pre class="src src-org">resolving dependencies...
looking for conflicting packages...

Packages (1) aspell-en-2017.08.24-1

Total Download Size:   1.06 MiB
Total Installed Size:  4.06 MiB

:: Proceed with installation? [Y/n] 
:: Retrieving packages...
 aspell-en-2017.08.2...     0.0   B  0.00B/s 00:00 [----------------------]   0% aspell-en-2017.08.2...   133.6 KiB   216K/s 00:04 [##--------------------]  12% aspell-en-2017.08.2...   551.5 KiB   827K/s 00:00 [###########-----------]  50% aspell-en-2017.08.2...  1087.1 KiB  1874K/s 00:01 [######################] 100%
(0/1) checking keys in keyring                     [----------------------]   0%(1/1) checking keys in keyring                     [######################] 100%
(0/1) checking package integrity                   [----------------------]   0%(1/1) checking package integrity                   [######################] 100%
(0/1) loading package files                        [----------------------]   0%(1/1) loading package files                        [######################] 100%
(0/1) checking for file conflicts                  [----------------------]   0%(1/1) checking for file conflicts                  [######################] 100%
(0/1) checking available disk space                [----------------------]   0%(1/1) checking available disk space                [######################] 100%
:: Processing package changes...
(1/1) installing aspell-en                         [----------------------]   0%(1/1) installing aspell-en                         [######################] 100%
:: Running post-transaction hooks...
(1/1) Arming ConditionNeedsUpdate...
</pre>
</div>

<p>
现在你可以试着直接在shell中运行 <code>aspell -c /tmp/t.txt</code> 来进行拼写检查，然而你很有可能会得到这样一个错误提示
</p>
<pre class="example">
[lujun9972@T430S ~]$ aspell -c /tmp/t.txt 
错误：No word lists can be found for the language "zh_CN".
</pre>

<p>
这是因为aspell会默认会根据 <code>LANG</code> 变量的值来查找对应的字典，结果当然是找不到中文的字典咯。
</p>

<p>
你需要通过 <code>-l en</code> 来指定语言代码为英文。
</p>

<div class="org-src-container">
<pre class="src src-shell">aspell -c /tmp/t.txt -l en
</pre>
</div>


<div class="figure">
<p><img src="https://lujun9972.github.io/assets/blog/2018/06/03/emacs帮你进行英文写作/ispell-01.png" alt="ispell-01.png" />
</p>
</div>
</div>
</div>


<div id="outline-container-org49e051b" class="outline-3">
<h3 id="org49e051b">配置ispell插件</h3>
<div class="outline-text-3" id="text-org49e051b">
<p>
Emacs的ispell插件会自动以此查找aspell,ispell和hunspell，并以第一个找到的程序为检查程序。 
因此大多数情况下，你无需特意手工设置拼写程序的名称(ispell-program-name)。
</p>

<p>
不过默认情况下，Emacs的ispell插件也会是根据 <code>LANG</code> 变量的值来决定使用哪个字典来进行拼写检查的，因此很大可能，你有必要设置一下ispell插件用来检查的字典。
</p>

<p>
ispell插件提供了两个变量来设置用来做·拼写检查的字典:
</p>

<dl class="org-dl">
<dt>ispell-dictionary</dt><dd>用于设置全局的默认字典</dd>
<dt>ispell-local-dictionary</dt><dd>用来设置当前buffer局部使用的字典</dd>
</dl>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> ispell-dictionary <span style="color: #2d9574;">"en"</span><span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
aspell程序本身还支持很多的选项参数，若要传递这些参数给aspell进程，则可以通过定义 <code>ispell-extra-args</code> 来实现。
比如下面配置让aspell不检查小于等于3个字符的单词
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> ispell-extra-args '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"</span><span style="color: #dc752f; background-color: #292b2e;">\</span><span style="color: #2d9574;">W"</span> <span style="color: #2d9574;">"3"</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org98f36b2" class="outline-3">
<h3 id="org98f36b2">使用Ispell进行拼写检查</h3>
<div class="outline-text-3" id="text-org98f36b2">
</div>
<div id="outline-container-orgf8fc67c" class="outline-4">
<h4 id="orgf8fc67c">ispell</h4>
<div class="outline-text-4" id="text-orgf8fc67c">
<p>
使用ispell进行拼写检查最简单的办法就是直接运行 <code>M-x ispell</code>, 在选中区域的情况下它会调用 <code>ispell-region</code> 来对该区域内的内容进行检查，否则会调用 <code>M-x ispell-buffer</code> 来对整个buffer中的内容进行拼写检查。
</p>

<p>
若拼写检查无错误，则 <code>ispell</code> 直接在echo area显示一条信息:
</p>
<pre class="example">
Spell-checking region using aspell with en dictionary...done
</pre>

<p>
若发现了不认识的单词，则 <code>ispell</code> 会将光标定位到该单词，并高亮该单词，然后在上方显示修改建议
<img src="https://lujun9972.github.io/assets/blog/2018/06/03/emacs帮你进行英文写作/ispell-02.png" alt="ispell-02.png" />
</p>

<p>
此时你可以做如下动作：
</p>

<dl class="org-dl">
<dt>按下修改建议前的字母</dt><dd>使用对应的修改建议替换该单词</dd>
<dt>C-h / ?</dt><dd>显示进一步的帮助</dd>
<dt>空格</dt><dd>忽略这个单词</dd>
<dt>a / A</dt><dd>全文忽略该单词</dd>
<dt>i</dt><dd>将该单词认为是正确的单词并加入个人词典中</dd>
<dt>u</dt><dd>将单词的小写形式加入个人词典中</dd>
<dt>r / R</dt><dd>手工输入新单词来替换该单词,r与R不同之处在于r只会对该单词做一次替换，而R可以对buffer中所有该单词出现的地方进行替换。</dd>
<dt>x / X</dt><dd>退出这次单词检查,但ispell进程不被杀死</dd>
<dt>q</dt><dd>退出单词检查，并且杀死ispell进程</dd>
</dl>

<p>
如果文档中有多处相同的拼写错误，可以使用“R”进入替换模式，然后输入新单词，当查找到第二个匹配的单词时，按下“!”就会自动将后面所有的单词替换成正确的单词了。
</p>
</div>
</div>

<div id="outline-container-orgab6de9f" class="outline-4">
<h4 id="orgab6de9f">递归编辑</h4>
<div class="outline-text-4" id="text-orgab6de9f">
<p>
ispell支持递归编辑，当你在进行拼写检查的过程中，可能会发现其他某个地方需要做个修改，但是又不想中断拼写检查的这个过程。
</p>

<p>
这个时候就可以按下 <code>C=r</code> 进入递归编辑状态。
</p>

<p>
在递归编辑状态下，你可以像往常一样使用Emacs来修改文档，当完成递归编辑后再使用 <code>C-M-c</code> 退出递归编辑并继续拼写检查。
</p>
</div>
</div>

<div id="outline-container-org2dbb658" class="outline-4">
<h4 id="org2dbb658">ispell-word</h4>
<div class="outline-text-4" id="text-org2dbb658">
<p>
如果你在写作时，脑袋卡壳了，对某个单词不确实是不是拼写正确的，那么可以直接执行 <code>M-x ispell-word</code>, 它仅仅会对光标所在的单词进行检查。
</p>
</div>
</div>

<div id="outline-container-org5129c9e" class="outline-4">
<h4 id="org5129c9e">ispell-minior-mode</h4>
<div class="outline-text-4" id="text-org5129c9e">
<p>
ispell-minior-mode 能够实时的对你输入的内容进行拼写检查。
</p>

<p>
当你输入一个单词后(按下空格或回车)，ispell会自动检查该单词，如果找不到该单词，则会给你以提示
<img src="https://lujun9972.github.io/assets/blog/2018/06/03/emacs帮你进行英文写作/ispell-03.png" alt="ispell-03.png" />
</p>
</div>
</div>

<div id="outline-container-orge262f86" class="outline-4">
<h4 id="orge262f86">ispell-complete-word</h4>
<div class="outline-text-4" id="text-orge262f86">
<p>
当你不记得一个单词怎么拼写的时候，还可以使用 ispell 来帮你进行单词补全。
</p>

<p>
运行 <code>M-x ispell-complete-word</code> 就能看到一个可选列表，列出了各种可供选择的单词。
</p>

<p>
不过要使用该功能，你还必须设置 <code>ispell-alternate-dictionary</code> 的值。将其指向一个 <b>包含各种单词的存文本格式文件</b> 。
</p>


<div class="figure">
<p><img src="https://lujun9972.github.io/assets/blog/2018/06/03/emacs帮你进行英文写作/ispell-04.png" alt="ispell-04.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-org83378fe" class="outline-4">
<h4 id="org83378fe">ispell-kill-ispell</h4>
<div class="outline-text-4" id="text-org83378fe">
<p>
启用ispell后，它会一直在后台运行。如果觉得不爽它消耗了系统资源，可以运行 <code>M-x ispell-kill-ispell</code> 把它干掉。
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org01f8582" class="outline-2">
<h2 id="org01f8582">flyspell-mode</h2>
<div class="outline-text-2" id="text-org01f8582">
<p>
flyspell-mode跟ispell-minior-mode类似，也是提供了实时的单词拼写检查功能。
</p>

<p>
但它与ispell-minior-mode的不同点在于，dispell-minior-mode只会对刚刚输入的单词进行检查，而flyspell-mode会对buffer中所有单词进行检查，并在认为是错误的单词下面加上一个波浪线作为标识。
</p>


<div class="figure">
<p><img src="https://lujun9972.github.io/assets/blog/2018/06/03/emacs帮你进行英文写作/flyspell-01.png" alt="flyspell-01.png" />
</p>
</div>

<p>
在flyspell-mode下修改错误单词的方法是，将鼠标移动到错误单词上，然后按下 <b>鼠标中键</b> 就能看到一系列的可选操作了。
</p>
</div>

<div id="outline-container-org9bd05d9" class="outline-3">
<h3 id="org9bd05d9">flyspell-prog-mode</h3>
<div class="outline-text-3" id="text-org9bd05d9">
<p>
值得一提的是，flyspell还为程序员提供了一个 <code>flyspell-prog-mode</code>, 在该模式下，Emacs只会对注释和字符串中的内容进行拼写检查。
</p>
</div>
</div>
</div>

<div id="outline-container-org6e5f6dd" class="outline-2">
<h2 id="org6e5f6dd">langtool</h2>
<div class="outline-text-2" id="text-org6e5f6dd">
<p>
<a href="https://www.languagetool.org/">langtool</a>是一个能够提供语法和写作风格检查的工具，它同时提供了命令行和GUI两种风格的界面，这使的它很容易与Emacs进行整合。
</p>
</div>

<div id="outline-container-orge5fc86a" class="outline-3">
<h3 id="orge5fc86a">下载langtool离线版</h3>
<div class="outline-text-3" id="text-orge5fc86a">
<p>
langtool提供了Desktop版本来作为离线使用. 一般来说, 离线版langtool的功能要比在线版弱一些，但是对于一般的使用也足够了。
</p>

<ol class="org-ol">
<li><p>
下载langtool zip压缩包
</p>
<div class="org-src-container">
<pre class="src src-shell">wget https://www.languagetool.org/download/LanguageTool-4.1.zip 
</pre>
</div></li>

<li><p>
解压langtool zip压缩包
</p>

<div class="org-src-container">
<pre class="src src-shell">unzip LanguageTool-4.1.zip
</pre>
</div></li>
</ol>
</div>
</div>

<div id="outline-container-orgf4fc622" class="outline-3">
<h3 id="orgf4fc622">安装Emacs的langtool插件</h3>
<div class="outline-text-3" id="text-orgf4fc622">
<p>
langtool插件并不是Emacs自带的, 你可以从MELPA上安装，或者自己从<a href="https://github.com/mhayashi1120/Emacs-langtool">github</a>上下载
</p>
</div>
</div>

<div id="outline-container-orgd380464" class="outline-3">
<h3 id="orgd380464">配置Emacs langtool插件</h3>
<div class="outline-text-3" id="text-orgd380464">
<p>
Emacs需要调用外部的langtool命令行工具来进行实际的检查工作，因此你首先需要指定langtool的命令行工具的地址:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> langtool-language-tool-jar <span style="color: #2d9574;">"~/Downloads/LanguageTool-4.1/languagetool-commandline.jar"</span><span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
langtool支持多种语言的语法检查，默认会自己推测所属的语系。
但这种推测可能不一定准确，尤其是英语系里面那么多的变体(Australian, Canadian, GB, New Zealand, South African, US)。
对此，你也可以明确指定一种语言：
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> langtool-default-language <span style="color: #2d9574;">"en-US"</span><span style="color: #4f97d7;">)</span>
</pre>
</div>
<p>
关于langtool支持的语言列表，可以通过 <code>C-u M-x langtool-check</code> 来查看.
</p>

<p>
你还可以设置母语信息，langtool会根据你的母语对检测规则进行一些微调
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> langtool-mother-tongue <span style="color: #2d9574;">"zh-CN"</span><span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
最后需要说明的是，langtool的规则十分繁复，其中甚至包括一些写作风格的规则检查。若将所有规则都应用起来，那么可能会出现很多误报的情况. 所幸langtool可以允许任意组合检查规则，根据需要我们可以禁止某些规则的检查。
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> langtool-disabled-rules '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"WHITESPACE_RULE"</span>
                                <span style="color: #2d9574;">"EN_UNPAIRED_BRACKETS"</span>
                                <span style="color: #2d9574;">"COMMA_PARENTHESIS_WHITESPACE"</span>
                                <span style="color: #2d9574;">"EN_QUOTES"</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>
<p>
关于规则的说明，可以参见<a href="https://www.languagetool.org/languages/">这里</a>
</p>

<p>
比如，这里
</p>
<ul class="org-ul">
<li>WHITESPACE_RULE的规则是不允许出现多个空格在一起，但实际上在编写org的时候常常需要靠多个空格进行缩进</li>
<li>EN_UNPAIRED_BRACKETS的规则是不允许出现不匹配的括号，但是在org中是可以出现 <code>1)</code>, <code>2)</code> 这样的列表的</li>
<li>COMMA_PARENTHESIS_WHITESPACE的规则不允许在逗号前或括号的前后出现空格，但是在org中，当用 <code>)</code> 来表示列表时，是需要在 <code>)</code> 后接上空格的</li>
<li>EN_QUOTES则不允许使用花引号,但是我一般图方便都是直接用键盘上的花引号来进行引用的。</li>
</ul>
</div>
</div>

<div id="outline-container-org72130d2" class="outline-3">
<h3 id="org72130d2">使用langtool进行检查</h3>
<div class="outline-text-3" id="text-org72130d2">
<p>
使用langtool进行检查的步骤很简单。
</p>

<ol class="org-ol">
<li><p>
运行 <code>M-x langtool-check</code> 来进行检查
</p>

<p>
若没有设置 <code>langtool-default-language</code> 的langtool会自动推测检查的语言类别，否则就使用该变量的指定类别来进行检查。
</p>

<p>
但有时候你可能要临时指定另一种语言的规则来进行检查，则可以运行 <code>C-u M-x langtool-check</code>, 这会弹出一个列表，让你从中选择要应用的语言规则。
</p>


<div class="figure">
<p><img src="https://lujun9972.github.io/assets/blog/2018/06/03/emacs帮你进行英文写作/screenshot-17.png" alt="screenshot-17.png" />
</p>
</div>

<p>
如上图所示，langtool检查完后会用红色标记出检测出问题的地方，将光标移动到红色位置就会在echo area中显示是根据哪条规则检测出来的问题，并给出修改意见。
</p>


<div class="figure">
<p><img src="https://lujun9972.github.io/assets/blog/2018/06/03/emacs帮你进行英文写作/screenshot-18.png" alt="screenshot-18.png" />
</p>
</div></li>

<li><p>
运行 <code>langtool-correct-buffer</code> 修正检测出的问题
</p>

<p>
langtool会依次跳转到各个检测出问题的地方，并给出修改意见
</p>


<div class="figure">
<p><img src="https://lujun9972.github.io/assets/blog/2018/06/03/emacs帮你进行英文写作/screenshot-19.png" alt="screenshot-19.png" />
</p>
</div>

<p>
只要按下修改意见前的编号就能自动修复该问题了
</p></li>

<li>由于不是所有检测出来的问题都是真正有错误的地方，
因此在修改完所有要修改的错误后，运行 <code>langtool-check-done</code> 来清除所有的问题标记.</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-orgdf059eb" class="outline-2">
<h2 id="orgdf059eb">artbollocks-mode</h2>
<div class="outline-text-2" id="text-orgdf059eb">
<p>
artbollocks-mode是一款检查写作风格的第三方插件。它实际上是通过正则表达式匹配的方式，高亮出那些你认为不好的，需要注意的语言模式。
</p>

<p>
使用artbollocks-mode能检测到重复出现的单词(artbollocks-lexical-illusions-regex)，而这可能是你一不小心多写了。
它还能检测出常见的被动语态的写法(artbollocks-passive-voice-regex)，有助于你将之修改成主动语态。
它还会标注出那些含义含糊不清的词语(artbollocks-weasel-words-regex)，比如 <code>many</code>, <code>various</code>, <code>remarkably</code>
它甚至还标注出一些艺术评论方面的行话(artbollocks-jargon-regex) -- 这也是为什么它叫 art bollocks mode的原因。
</p>

<p>
不过我们一般写作过程中，也不太会用到艺术评论方面的行话，因此我们可以手工将之禁用
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> artbollocks-jargon nil<span style="color: #4f97d7;">)</span>           <span style="color: #2aa1ae; background-color: #292e34;">;</span><span style="color: #2aa1ae; background-color: #292e34;">&#20851;&#38381;&#26816;&#27979;&#34892;&#35805;&#21151;&#33021;</span>
</pre>
</div>

<p>
或者使用自己领域的行话进行代替
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> artbollocks-jargon t<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">&#35774;&#23450;&#33258;&#24049;&#30340;&#34892;&#35805;&#21015;&#34920;</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> artbollocks-jargon-regex <span style="color: #bc6ec5;">(</span>concat <span style="color: #2d9574;">"\\b"</span> <span style="color: #2d9574;">(</span>regexp-opt
                                              '<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"u8s"</span>
                                                <span style="color: #2d9574;">"A/D"</span>
                                                <span style="color: #2d9574;">"A/B"</span>
                                                <span style="color: #2d9574;">"ADO"</span><span style="color: #67b11d;">)</span> <span style="color: #dc752f; background-color: #292b2e;">t</span><span style="color: #2d9574; background-color: #292b2e;">)</span>
                                       <span style="color: #2d9574;">"\\b"</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
值得一提的是，artbollocks 甚至提供了两个函数用于对你的内容进行可读性分析并给出评分：
</p>

<ul class="org-ul">
<li><p>
<code>M-x artbollocks-reading-ease</code> 基于 <a href="http://en.wikipedia.org/wiki/Flesch%E2%80%93Kincaid_readability_test#Flesch_Reading_Ease">Flesch reading ease</a> 进行评分，其评级标准为：
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Score</th>
<th scope="col" class="org-left">School level</th>
<th scope="col" class="org-left">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">100.00-90.00</td>
<td class="org-left">5th grade</td>
<td class="org-left">Very easy to read. Easily understood by an average 11-year-old student.</td>
</tr>

<tr>
<td class="org-left">90.0–80.0</td>
<td class="org-left">6th grade</td>
<td class="org-left">Easy to read. Conversational English for consumers.</td>
</tr>

<tr>
<td class="org-left">80.0–70.0</td>
<td class="org-left">7th grade</td>
<td class="org-left">Fairly easy to read.</td>
</tr>

<tr>
<td class="org-left">70.0–60.0</td>
<td class="org-left">8th &amp; 9th grade</td>
<td class="org-left">Plain English. Easily understood by 13- to 15-year-old students.</td>
</tr>

<tr>
<td class="org-left">60.0–50.0</td>
<td class="org-left">10th to 12th grade</td>
<td class="org-left">Fairly difficult to read.</td>
</tr>

<tr>
<td class="org-left">50.0–30.0</td>
<td class="org-left">College</td>
<td class="org-left">Difficult to read.</td>
</tr>

<tr>
<td class="org-left">30.0–0.0</td>
<td class="org-left">College graduate</td>
<td class="org-left">Very difficult to read. Best understood by university graduates.</td>
</tr>
</tbody>
</table></li>

<li><p>
<code>M-x artbollocks-grade-level</code> 基于 <a href="http://en.wikipedia.org/wiki/Flesch%E2%80%93Kincaid_readability_test#Flesch.E2.80.93Kincaid_Grade_Level">Flesch-Kincaid grade level</a> 进行评分，其评级标准为
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">Score</th>
<th scope="col" class="org-left">level</th>
<th scope="col" class="org-left">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">100</td>
<td class="org-left">Very easy to read</td>
<td class="org-left">Average sentence length is 12 words or fewer. No words of more than two syllables.</td>
</tr>

<tr>
<td class="org-right">65</td>
<td class="org-left">Plain English</td>
<td class="org-left">Average sentence is 15 to 20 words long. Average word has two syllables.</td>
</tr>

<tr>
<td class="org-right">30</td>
<td class="org-left">A little hard to read</td>
<td class="org-left">Sentences will have mostly 25 words. Two syllables usually.</td>
</tr>

<tr>
<td class="org-right">0</td>
<td class="org-left">Very hard to read</td>
<td class="org-left">Average sentence is 37 words long. Average word has more than two syllables.</td>
</tr>
</tbody>
</table></li>
</ul>
</div>
</div>
<div id="outline-container-orgc43882f" class="outline-2">
<h2 id="orgc43882f">emacs-powerthesaurus</h2>
<div class="outline-text-2" id="text-orgc43882f">
<p>
<a href="https://www.powerthesaurus.org/">powerthesaurus</a> 是一个根据你输入的单词查询同义词的词典，而emacs-powerthesaurus是Emacs对该网站的一个接口。
</p>

<p>
emacs-powerthesaurus是Emacs第三方插件，需要手工从MELPA安装:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">use-package</span> <span style="color: #a45bad;">powerthesaurus</span>
  <span style="color: #4f97d7;">:ensure</span> t<span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
<code>emacs-powerthesaurus</code> 使用起来很简单，它并不需要进行特别的配置,只是提供了两个命令:
</p>

<dl class="org-dl">
<dt>powerthesaurus-lookup-word</dt><dd>查询选中区域的单词查询同义词并用选中的同义词替换选中区域的内容。
若没有选中区域的话，则手工输入要查询的单词，这是会将选中的同义词插入光标处。</dd>

<dt>powerthesaurus-lookup-word-at-point</dt><dd>顾名思义，就是查询光标所在单词的同义词，并用选中的同义词来替换该单词。</dd>
</dl>


<div class="figure">
<p><img src="https://github.com/SavchenkoValeriy/emacs-powerthesaurus/blob/master/assets/demo.gif" alt="demo.gif" />
</p>
</div>
</div>
</div>

</div>
</div>
<div>
        <div class="post-meta">
            <span title="post date" class="post-info">2018-06-03</span>
            <span title="last modification date" class="post-info">2018-06-22</span>
            <span title="tags" class="post-info">:<a href="https://lujun9972.github.io/tags/emacs之怒">Emacs之怒</a>:</span>
            <span title="author" class="post-info"><a href="mailto:lujun9972 &lt;at&gt; T430S">lujun9972</a></span>
        </div>
    <script src="https://lujun9972.github.io/media/js/jquery-2.1.3.min.js"></script>
        <section>
            <h1>Comments</h1>
            <div id="comment-wrap">
                    <a class="disqus_label">使用 Disqus 评论</a>
    </ul>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
         //var disqus_developer = 1;
         var preempt_signal=false;
         var disqus_identifier = "/blog/2018/06/03/emacs帮你进行英文写作/";
         var disqus_url = "https://lujun9972.github.io/blog/2018/06/03/emacs帮你进行英文写作/";
         var disqus_shortname = 'lujun9972';
         /* * * DON'T EDIT BELOW THIS LINE * * */
         (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
             $('#disqus_thread').css('display','none');
         })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    <script>
     /* comments */
     var ego_disqus_thread=$('#disqus_thread');
     var ego_ds_label=$('.ds-thread');
     $('.disqus_label').click(function(){
         ego_disqus_thread.show();
         ego_ds_label.hide();
     });
     $('.ds-label').click(function(){
         ego_disqus_thread.hide();
         ego_ds_label.show();
     });
    </script>
        </section>
    <script src="https://lujun9972.github.io/media/js/main.js"></script>
    <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 26.x(<a href="http://orgmode.org">Org mode</a> 9.x)</p>
        <p>
            Copyright &copy; 2014 - <span id="footerYear"></span> <a href="mailto:lujun9972 &lt;at&gt; T430S">lujun9972</a>
            &nbsp;&nbsp;-&nbsp;&nbsp;
            Powered by <a href="https://github.com/emacs-china/ego" target="_blank">EGO</a><br/>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" style="border-width:0" alt="Creative Commons License" class="center"></a>
            <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
    </div>
            </div>
            <script type="text/javascript"
                    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG">
            </script>
            <script type="text/x-mathjax-config">
             MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "AMS"} } });
            </script>
</div>

  </div></body>
</html>
